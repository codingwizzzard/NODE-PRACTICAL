<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <!-- Tell the browser to be responsive to screen width -->
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="keywords"
    content="wrappixel, admin dashboard, html css dashboard, web dashboard, bootstrap 5 admin, bootstrap 5, css3 dashboard, bootstrap 5 dashboard, Matrix lite admin bootstrap 5 dashboard, frontend, responsive bootstrap 5 admin template, Matrix admin lite design, Matrix admin lite dashboard bootstrap 5 dashboard template" />
  <meta name="description"
    content="Matrix Admin Lite Free Version is powerful and clean admin dashboard template, inpired from Bootstrap Framework" />
  <meta name="robots" content="noindex,nofollow" />
  <title>Admin Panel</title>
  <!-- Favicon icon -->
  <link rel="icon" type="image/png" sizes="16x16" href="../assets/images/favicon.png" />
  <!-- Custom CSS -->
  <link href="../dist/css/style.min.css" rel="stylesheet" />
  <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
  <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
  <!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
        <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
      <![endif]-->
</head>

<body>
  <%- include('partials/navbar') %>

    <form action="/addTasks" method="POST">
      <input type="hidden" name="id" value="<%= task ? task._id : '' %>">
      <label for="title">Title:</label>
      <input type="text" name="title" value="<%= task ? task.title : '' %>" required>

      <label for="description">Description:</label>
      <textarea name="description" required><%= task ? task.description : '' %></textarea>
      <label for="category">Category:</label>
      <select name="category" required>
        <option value="" disabled <%= !task ? 'selected' : '' %>>Select a category</option>
        <% categories.forEach(category => { %>
          <option value="<%= category._id %>" <%= task && task.category && task.category.toString() === category._id.toString() ? 'selected' : '' %>>
            <%= category.title %>
          </option>
        <% }) %>
      </select>
      <button type="submit">
        <%= task ? 'Update Task' : 'Add Task' %>
      </button>
    </form>
</body>

</html>